{% extends "_layout.html" %}

{% block content %}
<main class="container">
    <article class="scenario-article">
        <header>
            <h1>{{ scenario.meta.title }}</h1>
            <p class="description">{{ scenario.meta.description }}</p>
        </header>

        <!-- Markdown本文（サマリー＋メインコンテンツ）をレンダリング -->
        <div class="content-body">
            {{ scenario.summary_html|raw }}
            {{ scenario.main_content_html|raw }}
        </div>

        <!-- 関連シナリオへの内部リンク -->
        {% if related_scenarios is not empty %}
        <section class="related-scenarios-section">
            <h2>あわせて読みたい関連記事</h2>
            <ul class="related-list">
                {% for related in related_scenarios %}
                <li><a href="{{ related.url }}">{{ related.title }}</a></li>
                {% endfor %}
            </ul>
        </section>
        {% endif %}

        <!-- ピラーページへの内部リンク -->
        <section class="pillar-link-section">
            <a href="/" class="back-to-pillar">
                &laquo; Amazon定期おトク便 完全攻略ガイドに戻る
            </a>
        </section>

        <!-- 著者プロフィールをレンダリング -->
        {% if author_profile %}
        <section class="author-profile-section">
            {{ author_profile.main_content_html|raw }}
        </section>
        {% endif %}

    </article>
</main>
{% endblock %}